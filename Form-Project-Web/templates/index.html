<!DOCTYPE html>
<html lang="tr">
<head>
    <title>Software News</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <link rel="stylesheet" type="text/css" href="/static/style.css">
</head>
<body>
 
<div id="dÃ¼zenbar">
    <div id="bar">
        <img id="logo" src="/static/png/logo.png">
        <input type="text" id="searchBox"  placeholder="Arama YapÄ±nÄ±z" onkeyup="searchLanguages()">
        <div id="darkmod">
            <span class="theme-mode">
                <a role="button" id="themeToggle" title="Tema DeÄŸiÅŸtir" href="javascript:void(0);">ðŸŒ“
                  <i id="themeIcon" class="fas fa-sun"></i></a> 
            </span>
        </div>
        <div id="giriÅŸbar">
            <nav>
                {{if .LoggedIn}}
                    <a href="/logout" class="button">Log Out</a>
                {{else}}
                    <a href="/login" class="button">Log In</a>
                    <a href="/register" class="button">Register</a>
                {{end}}
            </nav>
        </div>
    </div>
</div>
<div id="gÃ¶rÃ¼nmezbar"></div>
    <div id="left">
        <div id="centerolustur">
            {{if .LoggedIn}}
            <a href="javascript:void(0);" onclick="openModal('createPostModal')" style="text-decoration: none; color: white;">Create a new post</a>
        {{else}}
            <a href="javascript:void(0);" onclick="openModal('loginModal')" style="text-decoration: none; color: white;">Create a new post</a>
        {{end}}
        </div>
        
        <div id="leftkatagoricont">
            <img src="/static/png/database.png" width="10%" height="60%">Veri TabanÄ±
        </div>

        <div id="leftkatagoricont">
            <img src="/static/png/coding.png" width="10%" height="60%">Programlama
        </div>

        <div id="leftkatagoricont">
            <img src="/static/png/artificial-intelligence.png" width="10%" height="60%">Yapay Zeka
        </div>

        <div id="leftkatagoricont">
            <img src="/static/png/ghost.png" width="10%" height="60%">Oyun MotorlarÄ±
        </div>

        <div id="leftkatagoricont">
            <img src="/static/png/robot.png" width="10%" height="60%">Robotik & AkÄ±llÄ± Sistemler
        </div>

        <div id="leftkatagoricont">
            <img src="/static/png/structure.png" width="10%" height="60%">React Native
        </div>

        <div id="leftkatagoricont">
            <img src="/static/png/cyber-criminal.png" width="10%" height="60%">React Native
        </div>
    </div>

    <div id="center">
        <div id="filtrecont">
            <div id="filtre">En Yeni</div>
            <div id="filtre">Ã‡Ã¶zÃ¼lmÃ¼ÅŸ</div>
            <div id="filtre"></div>
            <div id="filtre"></div>
        </div>
        <div id="centercont">
            {{range .Posts}}
            <div id="centerprofilcont">
            <ul><li><h3>{{.Username}}</h3></li></ul>  
            </div>
                <div id="centersorubaslik">
                    <ul><li> <h3><a href="/viewPost?id={{.ID}}">{{.Title}}</a></h3> </li></ul>
                    <div id="centerlike">
                         <ul><li> {{.LikeCount}} Likes {{.DislikeCount}} Dislikes</li></ul>
                    </div>   
                    <ul><li> {{.CreatedAtFormatted}} </li></ul>
                </div>
                <div id="centersorukatagori">
                    <p>KATAGORÄ°</p>
                    <p>{{.Content}}</p>
                </div>{{end}}
       </div> 
    </div>
    <span class="close" onclick="closeModal('loginModal')">&times;</span>

    <div id="loginModal" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('loginModal')">&times;</span>
          <h1>Login</h1>
          <form action="/login" method="post">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required><br><br>
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required><br><br>
            <button type="submit">Login</button>
          </form>
        </div>
      </div>
    
      <div id="registerModal" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('registerModal')">&times;</span>
          <h1>Register</h1>
          <form action="/register" method="post">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required><br><br>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required><br><br>
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required><br><br>
            <button type="submit">Register</button>
          </form>
        </div>
      </div>

    <div id="logoutModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('logoutModal')">&times;</span>
            <h1>Ã‡Ä±kÄ±ÅŸ Yap</h1>
            <p>Ã‡Ä±kÄ±ÅŸ yapmak istediÄŸinize emin misiniz?</p>
            <button onclick="window.location.href='/logout';">Evet</button>
            <button onclick="closeModal('logoutModal')">HayÄ±r</button>
        </div>
    </div>

    <div id="createPostModal" class="modal">
        <div class="modal-content create-post-content">
            <span class="close" onclick="closeModal('createPostModal')">&times;</span>
            <h1>Create Post</h1>
            <form action="/createPost" method="post">
                <label for="title">Title:</label>
                <input type="text" id="title" name="title" required><br><br>
                <label for="content">Content:</label>
                <textarea id="content" name="content" required></textarea><br><br>
                <label for="categories">Categories:</label>
                <input type="text" id="categories" name="categories" required><br><br>
                <button type="submit">Create Post</button>
            </form>
        </div>
    </div>
    

   <script src="/static/akankod.js"></script>
    
    <script>
function addModalEventListeners() {
    // Login butonuna event listener ekle
    var loginBtn = document.querySelector('a[href="/login"]');
    if (loginBtn) {
        loginBtn.addEventListener('click', function (event) {
            event.preventDefault();
            openModal('loginModal');
        });
    }

    // Register butonuna event listener ekle
    var registerBtn = document.querySelector('a[href="/register"]');
    if (registerBtn) {
        registerBtn.addEventListener('click', function (event) {
            event.preventDefault();
            openModal('registerModal');
        });
    }

    // Logout butonuna event listener ekle
    var logoutBtn = document.querySelector('a[href="/logout"]');
    if (logoutBtn) {
        logoutBtn.addEventListener('click', function (event) {
            event.preventDefault();
            openModal('logoutModal');
        });
    }

    // Create Post butonuna event listener ekle
    var createPostBtn = document.querySelector('a[onclick="openModal(\'createPostModal\')"]');
    if (createPostBtn) {
        createPostBtn.addEventListener('click', function (event) {
            event.preventDefault();
            openModal('createPostModal');
        });
    }
}

// Modal aÃ§ma fonksiyonu
function openModal(modalId) {
  var modal = document.getElementById(modalId);
  modal.style.display = 'block';
  modal.querySelector('.modal-content').style.bottom = '10%'; // Slide up animation
  modal.querySelector('.modal-content').style.opacity = '1';
}

function closeModal(modalId) {
  var modal = document.getElementById(modalId);
  modal.querySelector('.modal-content').style.bottom = '-100%'; // Slide down animation
  modal.querySelector('.modal-content').style.opacity = '0';
  setTimeout(function() {
    modal.style.display = 'none';
    addModalEventListeners(); 
  }, 500); // Match transition duration
}

// Initial Setup
window.onload = function () {
  addModalEventListeners();
};

window.onclick = function (event) {
  if (event.target.classList.contains('modal')) {
    closeModal(event.target.id);
  }
};
    </script>   
    <script src="/static/scripts.js"></script>

</body>
</html>
